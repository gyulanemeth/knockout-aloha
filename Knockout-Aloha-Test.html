<html>
	<head>
		<meta charset="UTF-8" />
		<title>Knockout-Aloha Test</title>
        <link href="lib/alohaeditor-1.1.0/aloha/css/aloha.css" rel="stylesheet" />
	</head>
	<body>
        <div style="height: 300px;">
            <h1>Current Vals</h1>
            <h3 data-bind="html:rtVal1"></h3>
            <h3 data-bind="html:rtVal2"></h3>
        </div>
        <textarea id="val1" data-bind="aloha:rtVal1" style="width: 100%"></textarea>
        <textarea id="val2" data-bind="aloha:rtVal2" style="width: 100%"></textarea>

        <button data-bind="click:changeVals">Change Vals</button>

        <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
        <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/knockout/3.2.0/knockout-min.js"></script>


        <script src="lib/alohaeditor-1.1.0/aloha/lib/require.js"></script>

        <script src="lib/alohaeditor-1.1.0/aloha/lib/aloha.js" data-aloha-plugins="common/ui,common/format"></script>
        <script src="knockout-aloha.js"></script>

        <script type="text/javascript">
            var vModel = function () {
                var self = this;

                self.rtVal1 = ko.observable("I'm Number 1");
                self.rtVal2 = ko.observable("I'm Number 2");

                self.rtVal1.subscribe(function () {
                    console.log({ rtVal1: self.rtVal1() });
                });

                self.rtVal2.subscribe(function () {
                    console.log({ rtVal2: self.rtVal2() });
                });

                self.changeVals = function () {
                    self.rtVal1("newVal1");
                    self.rtVal2("newVal2");
                };

                return self;
            };
            ko.applyBindings(new vModel());

        </script>
	</body>
</html>